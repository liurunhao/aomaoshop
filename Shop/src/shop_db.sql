
/* Drop Tables */

DROP TABLE GOODS;
DROP TABLE ORDERS;
DROP TABLE USERS;
DROP TABLE SHOPPINGCART;




/* Create Tables */

CREATE TABLE GOODS
(
	ID INT NOT NULL AUTO_INCREMENT,
	GNAME VARCHAR(255),
	PNAME VARCHAR(255),
	PRICE INT,
	ID INT NOT NULL,
	PRIMARY KEY (ID)
);


CREATE TABLE ORDERS
(
	ID INT NOT NULL AUTO_INCREMENT,
	ORDERTIME VARCHAR(20),
	ID INT NOT NULL,
	PRIMARY KEY (ID)
);


CREATE TABLE SHOPPINGCART
(
	ID INT NOT NULL AUTO_INCREMENT,
	GOODS_ID INT UNIQUE,
	USER_ID INT UNIQUE,
	PRIMARY KEY (ID)
);


CREATE TABLE USERS
(
	ID INT NOT NULL AUTO_INCREMENT,
	NAME VARCHAR(255) NOT NULL,
	PASSWORD VARCHAR(255) NOT NULL,
	ID INT NOT NULL,
	PRIMARY KEY (ID)
);



/* Create Foreign Keys */

ALTER TABLE GOODS
	ADD FOREIGN KEY (ID)
	REFERENCES SHOPPINGCART (ID)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE USERS
	ADD FOREIGN KEY (ID)
	REFERENCES SHOPPINGCART (ID)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE ORDERS
	ADD FOREIGN KEY (ID)
	REFERENCES USERS (ID)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;



